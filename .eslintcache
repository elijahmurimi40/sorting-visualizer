[{"C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\index.tsx":"1","C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\App.tsx":"2","C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\sortingAlgorithms\\sortingTimers.ts":"3","C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\ui\\TopNav.tsx":"4","C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\ui\\BottomNav.tsx":"5","C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\sortingAlgorithms\\selectionSort.ts":"6","C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\sortingAlgorithms\\shellSort.ts":"7"},{"size":591,"mtime":1608493443690,"results":"8","hashOfConfig":"9"},{"size":14579,"mtime":1609247839394,"results":"10","hashOfConfig":"9"},{"size":806,"mtime":1609236094712,"results":"11","hashOfConfig":"9"},{"size":2261,"mtime":1609172975108,"results":"12","hashOfConfig":"9"},{"size":556,"mtime":1608562243402,"results":"13","hashOfConfig":"9"},{"size":3105,"mtime":1609091375759,"results":"14","hashOfConfig":"9"},{"size":3531,"mtime":1609248005175,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"dq7rj5",{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\index.tsx",[],["32","33","34","35","36","37"],"C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\App.tsx",["38","39"],"import React, {\n  useEffect, useRef, useState, MouseEvent,\n} from 'react';\nimport { Col, Container, Row } from 'react-bootstrap';\nimport { Header, Label, Message } from 'semantic-ui-react';\nimport BootstrapSwitchButton from 'bootstrap-switch-button-react';\nimport './App.css';\nimport TopNav from './ui/TopNav';\nimport BottomNav from './ui/BottomNav';\nimport { stopSortTimers } from './sortingAlgorithms/sortingTimers';\nimport { Bar, ArrayBars } from './helperFunctions/ArrayBars';\nimport barStates from './helperFunctions/barStates';\nimport bubbleSort from './sortingAlgorithms/bubbleSort';\nimport insertionSort from './sortingAlgorithms/insertionSort';\nimport selectionSort from './sortingAlgorithms/selectionSort';\nimport shellSort from './sortingAlgorithms/shellSort';\n\nlet n = 0;\n// let _i = -1;\nlet isArrayBeingGenerated = false;\nlet currentWidth: number;\nlet holderDivWidthVal = 0;\nlet barHeight = 0;\nlet debounceTimer: number = 0;\nlet isSorting = false;\nlet sortingTimer = 0;\nlet isSliderChecked = false;\n\nconst minWidth = 2;\nconst maxWidth = 50;\n\nconst debounce = (callBack: () => void, time: number = 305) => {\n  debounceTimer = 0;\n  return () => {\n    if (debounceTimer) clearTimeout(debounceTimer);\n    debounceTimer = window.setTimeout(callBack, time);\n  };\n};\n\nconst show = (element: HTMLElement) => {\n  element.classList.remove('hide');\n};\n\nconst hide = (element: HTMLElement) => {\n  element.classList.add('hide');\n};\n\n// const timer = (ms: number) => new Promise((res) => setTimeout(res, ms));\nconst randomBumber = (min: number, max: number) => Math.random() * (max - min + 1) + min;\nconst randomIntFromInterval = (min: number, max: number) => Math.floor(randomBumber(min, max));\n\nconst setCurrentWidth = (_slider: HTMLInputElement) => {\n  // get value of slider and calculate the width of each bar\n  if (_slider.valueAsNumber % 2 === 0) {\n    currentWidth = (maxWidth - _slider.valueAsNumber) + minWidth;\n    // sortingTimer = currentWidth;\n    sortingTimer = (maxWidth - _slider.valueAsNumber) + minWidth;\n  }\n};\n\nconst hideShowValue = (value: number) => (currentWidth >= 40 ? value : '');\n\nconst getColor = (state: string) => {\n  let backgroundColor = '';\n\n  switch (state) {\n    case barStates.defaultState:\n      backgroundColor = '#2185d0';\n      break;\n    case barStates.selectedState:\n      backgroundColor = '#ff0000';\n      break;\n    case barStates.sortedState:\n      backgroundColor = '#40e0d0';\n      break;\n    default:\n      backgroundColor = '#2185d0';\n  }\n\n  return backgroundColor;\n};\n\nfunction App() {\n  const topNav = useRef<HTMLDivElement>(null);\n  const bottomNav = useRef<HTMLDivElement>(null);\n  const container = useRef<HTMLDivElement>(null);\n  const loadingIndicator = useRef<HTMLDivElement>(null);\n  const holderDiv = useRef<HTMLDivElement>(null);\n  const slider = useRef<HTMLInputElement>(null);\n  const buttomSection = useRef<HTMLDivElement>(null);\n  const select = useRef<HTMLSelectElement>(null);\n  const arrayBars = useRef<Array<HTMLDivElement>>([]);\n  const barValues = useRef<Array<HTMLSpanElement>>([]);\n  const arraySizeSpeed = useRef<HTMLDivElement>(null);\n  const finishButton = useRef<HTMLAnchorElement>(null);\n\n  const sliderValue = useRef(() => { });\n  const calculateAndSetDimension = useRef(() => { });\n\n  const [containerHeight, setContainerHeight] = useState(0);\n  const [array, setArray] = useState<ArrayBars>([]);\n  const [showMessage, setShowMessage] = useState(false as boolean);\n\n  // after adding dark mode switch\n  // const topNavHeight = () => topNav.current!!.clientHeight;\n  const bottomNavHeight = () => bottomNav.current!!.clientHeight;\n  const containerTopMargin = () => container.current!!.offsetTop;\n  const holderDivWidth = () => holderDiv.current!!.clientWidth;\n  const buttomSectionHeight = () => buttomSection.current!!.clientHeight;\n\n  const darkModeToggle = (checked: boolean) => {\n    isSliderChecked = checked;\n    const isChecked = checked;\n    if (isChecked) {\n      document.body.style.backgroundColor = '#1b1c1d';\n      arraySizeSpeed.current!!.style.color = '#ffffff';\n      finishButton.current!!.classList.remove('secondary');\n      finishButton.current!!.classList.add('standard');\n      topNav.current!!.classList.add('inverted');\n      topNav.current!!.style.borderBottom = '1px solid #767676';\n      bottomNav.current!!.classList.add('inverted');\n      bottomNav.current!!.style.borderTop = '1px solid #767676';\n    } else {\n      document.body.style.backgroundColor = '#ffffff';\n      arraySizeSpeed.current!!.style.color = '#000000';\n      finishButton.current!!.classList.remove('standard');\n      finishButton.current!!.classList.add('secondary');\n      topNav.current!!.classList.remove('inverted');\n      topNav.current!!.style.border = '1px solid rgba(34, 36, 38, .15)';\n      bottomNav.current!!.classList.remove('inverted');\n      bottomNav.current!!.style.border = '1px solid rgba(34, 36, 38, .15)';\n    }\n  };\n\n  const generateArray = async (size: number) => {\n    show(loadingIndicator.current!!);\n    const arr: ArrayBars = [];\n\n    for (let i = 0; i < size; i += 1) {\n      // _i = i;\n      isArrayBeingGenerated = true;\n      if (size !== n) { break; }\n      arr.push({\n        value: randomIntFromInterval(5, barHeight),\n        state: barStates.defaultState,\n        idx: i,\n      });\n      // await timer(1000);\n    }\n\n    if (size === n) {\n      setArray!!(arr);\n      hide(loadingIndicator.current!!);\n      // _i = -1;\n      isArrayBeingGenerated = false;\n    }\n  };\n\n  const generateArrayOnClick = (e: MouseEvent) => {\n    e.preventDefault();\n    if (!isArrayBeingGenerated && !isSorting) generateArray(n);\n    // if (_i === -1) generateArray(n);\n  };\n\n  sliderValue.current = () => {\n    const sliderVal = slider.current!!;\n    setCurrentWidth(sliderVal);\n    // generate random array bars as slider is moved\n    sliderVal.oninput = () => {\n      setCurrentWidth(sliderVal);\n      n = Math.floor(holderDivWidthVal / (currentWidth + minWidth));\n      generateArray(n);\n    };\n  };\n\n  const disableUIElements = () => {\n    isSorting = true;\n    slider.current!!.disabled = true;\n    select.current!!.disabled = true;\n  };\n\n  const enableUIElements = () => {\n    isSorting = false;\n    slider.current!!.disabled = false;\n    select.current!!.disabled = false;\n  };\n\n  const restoreArrayBars = (arr: ArrayBars) => {\n    arr.map((val: Bar, idx) => {\n      arrayBars.current[idx].style.backgroundColor = '#2185d0';\n      arrayBars.current[idx].style.height = `${val.value}px`;\n      barValues.current[idx].textContent = hideShowValue(val.value) as unknown as string;\n      return arr;\n    });\n  };\n\n  calculateAndSetDimension.current = () => {\n    stopSortTimers();\n    const windowHeight = window.innerHeight;\n    // after adding dark mode switch\n    // const topNavHeightVal = topNavHeight();\n    const bottomNavVal = bottomNavHeight();\n    const containerTopMarginVal = containerTopMargin();\n\n    // calculate the remaining window height to show bars\n    const remainingWindowHeight = windowHeight - containerTopMarginVal;\n    // const spaceBetweenTopNavAndContainerOffset = containerTopMarginVal - topNavHeightVal;\n    // minus for bottom margin\n    const height = remainingWindowHeight - bottomNavVal - 20;\n\n    setContainerHeight!!(height);\n\n    // holder div containing the bars and calculating the maximum bar height\n    holderDivWidthVal = holderDivWidth();\n    const buttomSectionHeightVal = buttomSectionHeight();\n    barHeight = height - buttomSectionHeightVal - 20;\n\n    /*\n      calculating the number of random bars to generate according to the available width\n      and the value of the slider\n    */\n    n = Math.floor(holderDivWidthVal / (currentWidth + minWidth));\n    // n += 2;\n    // -i = 0;\n    // _i = 0;\n    isArrayBeingGenerated = true;\n    generateArray(n);\n    clearTimeout(debounceTimer);\n    enableUIElements();\n  };\n\n  const isArraySorted = () => {\n    if (isArrayBeingGenerated) return true;\n    const jsSortedArray = array.slice().sort((a: Bar, b: Bar) => a.value - b.value);\n    return JSON.stringify(array) === JSON.stringify(jsSortedArray);\n  };\n\n  const finishSortArrayHelper = (arr: ArrayBars) => {\n    stopSortTimers();\n    enableUIElements();\n    restoreArrayBars(arr);\n  };\n\n  const finishSortArray = (e: MouseEvent) => {\n    e.preventDefault();\n    const arr = array.slice().sort((a: Bar, b: Bar) => a.value - b.value);\n    finishSortArrayHelper(arr);\n  };\n\n  const sortArray = (e: MouseEvent, key: string) => {\n    e.preventDefault();\n    let timer = 0;\n    switch (key) {\n      case 'bubble_sort':\n        if (isArraySorted() || isSorting) return;\n        disableUIElements();\n        bubbleSort(\n          array,\n          arrayBars,\n          barValues,\n          sortingTimer,\n          finishSortArrayHelper,\n          hideShowValue,\n        );\n        break;\n      case 'insertion_sort':\n        if (isArraySorted() || isSorting) return;\n        disableUIElements();\n        insertionSort(\n          array,\n          arrayBars,\n          barValues,\n          sortingTimer,\n          finishSortArrayHelper,\n          hideShowValue,\n        );\n        break;\n      case 'selection_sort':\n        if (isArraySorted() || isSorting) return;\n        disableUIElements();\n        selectionSort(\n          array,\n          arrayBars,\n          barValues,\n          sortingTimer,\n          finishSortArrayHelper,\n          hideShowValue,\n        );\n        break;\n      case 'shell_sort':\n        if (isArraySorted() || isSorting) return;\n        disableUIElements();\n        shellSort(\n          array,\n          arrayBars,\n          barValues,\n          sortingTimer,\n          finishSortArrayHelper,\n          hideShowValue,\n        );\n        break;\n      case 'merge_sort':\n        alert('implement merge sort');\n        break;\n      case 'quick_sort':\n        alert('implement quick sort');\n        break;\n      default:\n        setShowMessage!!(true);\n        timer = window.setTimeout(() => {\n          setShowMessage!!(false);\n          clearTimeout(timer);\n        }, 3000);\n    }\n  };\n\n  const setBarColor = (idx: number) => {\n    const ab = arrayBars.current[idx];\n    const bv = barValues.current[idx];\n    if (ab !== undefined && ab !== null) {\n      ab.style.backgroundColor = '#2185d0';\n      ab.style.height = `${array[idx].value}px`;\n      bv.textContent = hideShowValue(array[idx].value) as unknown as string;\n    }\n  };\n\n  useEffect(() => {\n    sliderValue.current();\n    calculateAndSetDimension.current();\n    // effect\n    window.addEventListener('resize', debounce(calculateAndSetDimension.current));\n\n    return () => {\n      // cleanup\n      window.removeEventListener('resize', debounce(calculateAndSetDimension.current));\n    };\n  }, []);\n\n  return (\n    <div>\n      <TopNav>\n        {{\n          topNav, generateNewArray: generateArrayOnClick, sortArray, select,\n        }}\n      </TopNav>\n      <div className=\"dark-mode\">\n        <BootstrapSwitchButton\n          checked={isSliderChecked}\n          width={110}\n          onlabel=\"Dark Mode\"\n          onstyle=\"dark\"\n          offlabel=\"Light mode\"\n          offstyle=\"primary\"\n          // eslint-disable-next-line react/style-prop-object\n          style=\"border\"\n          onChange={(checked: boolean) => { darkModeToggle(checked); }}\n        />\n      </div>\n      <Container\n        className=\"container\"\n        style={{ height: containerHeight }}\n        ref={container}\n      >\n        <Row>\n          <Col />\n          <Col\n            style={{ height: containerHeight }}\n            className=\"sort-div\"\n            lg={12}\n            md={12}\n            sm={12}\n            xl={12}\n            xs={12}\n          >\n            <div ref={holderDiv} className=\"holder\">\n              {\n                array.map((val: Bar, idx) => (\n                  <div\n                    ref={(element: HTMLDivElement) => { arrayBars.current[val.idx] = element; }}\n                    style={{\n                      width: currentWidth,\n                      height: `${val.value}px`,\n                      backgroundColor: getColor(val.state),\n                    }}\n                    className=\"array-bar\"\n                    // key={val.idx}\n                    // eslint-disable-next-line react/no-array-index-key\n                    key={idx}\n                  >\n                    {setBarColor(idx)}\n                    <span\n                      ref={(element: HTMLSpanElement) => { barValues.current[val.idx] = element; }}\n                      className=\"span-value text-align\"\n                    >\n                      {hideShowValue(val.value)}\n                    </span>\n                  </div>\n                ))\n              }\n              <div ref={buttomSection}>\n                <div className=\"finish-button\">\n                  <a\n                    ref={finishButton}\n                    href=\"/finish\"\n                    onClick={finishSortArray}\n                    className=\"ui secondary submit button inverted\"\n                  >\n                    Finish\n                  </a>\n                </div>\n                <div ref={arraySizeSpeed}>Change Array Size and Sorting Speed</div>\n                <div>\n                  <input\n                    ref={slider}\n                    type=\"range\"\n                    min={minWidth}\n                    max={maxWidth}\n                    defaultValue=\"26\"\n                  />\n                </div>\n              </div>\n            </div>\n          </Col>\n          <Col />\n        </Row>\n      </Container>\n      <BottomNav>{{ bottomNav, generateNewArray: generateArrayOnClick }}</BottomNav>\n\n      <div ref={loadingIndicator}>\n        <div className=\"info\">\n          <Header textAlign=\"center\" block>\n            <Label color=\"grey\" size=\"large\">Loading .....</Label>\n          </Header>\n        </div>\n      </div>\n\n      <div\n        aria-live=\"polite\"\n        aria-atomic=\"true\"\n        style={{\n          position: 'relative',\n          display: showMessage ? 'block' : 'none',\n        }}\n      >\n        <div style={{ position: 'absolute', bottom: 0, right: 0 }}>\n          {\n            (showMessage)\n          }\n          <Message\n            negative\n            compact\n            style={{ width: '305px' }}\n            onDismiss={() => setShowMessage!!(false)}\n          >\n            <Message.Header>Sorting Visualizer</Message.Header>\n            <p>Please Select a Sorting Algorithm.</p>\n          </Message>\n        </div>\n      </div>\n      <div className=\"error-div\">Use Screen of 320px and above</div>\n    </div>\n  );\n}\n\nexport default App;\n","C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\sortingAlgorithms\\sortingTimers.ts",[],"C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\ui\\TopNav.tsx",[],"C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\ui\\BottomNav.tsx",[],"C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\sortingAlgorithms\\selectionSort.ts",[],"C:\\xampp\\htdocs\\projects\\sorting-visualizer\\src\\sortingAlgorithms\\shellSort.ts",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","replacedBy":"47"},{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":303,"column":9,"nodeType":"54","messageId":"55","endLine":303,"endColumn":38},{"ruleId":"52","severity":1,"message":"53","line":306,"column":9,"nodeType":"54","messageId":"55","endLine":306,"endColumn":38},"lines-around-directive",["56"],"no-spaced-func",["57"],"global-require",[],"no-buffer-constructor",[],"no-new-require",[],"no-path-concat",[],"no-alert","Unexpected alert.","CallExpression","unexpected","padding-line-between-statements","func-call-spacing"]